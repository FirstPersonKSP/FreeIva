// these parts use the IVA from the stock Large_Crewed_Lab - Mobile_Processing_Lab_Int
// But they only have one EVA hatch, not two - and different attach node names
// And they're too big for autodetect to work correctly, so we have to clone this internal TWICE
@PART[StnSciZoo]:HAS[@INTERNAL[Mobile_Processing_Lab_Int]]:FOR[FreeIva]
{
	@INTERNAL
	{
		@name = FreeIva_StnSciZoo_Int

		// we already add the extra seats
		!MODULE[InternalSeat],* {}
	}
}

@PART[StnSciLab]:HAS[@INTERNAL[Mobile_Processing_Lab_Int]]:FOR[FreeIva]
{
	@INTERNAL
	{
		@name = FreeIva_StnSciLab_Int

		// we already add the extra seats
		!MODULE[InternalSeat],* {}
	}
}

// and make sure to add the freeiva module - note there's a generic patch for this in LargeCreweed_Lab.cfg
@PART[StnSciLab|StnSciZoo]:HAS[!MODULE[ModuleFreeIva]]:FOR[FreeIva]
{
	MODULE
	{
		name = ModuleFreeIva
	}
}

+INTERNAL[Mobile_Processing_Lab_Int]:FOR[FreeIva]:NEEDS[StationScience]
{
	@name = FreeIva_StnSciZoo_Int

	!PROP[FreeIva_Hatch_Square],1 {}

	@PROP[FreeIva_Hatch_Round_Size0],1
	{
		MODULE
		{
			name = HatchConfig
			attachNodeId = top4294733550
		}
	}

	@PROP[FreeIva_Hatch_Round_Size0],0
	{
		MODULE
		{
			name = HatchConfig
			attachNodeId = bottom4294733650
		}
	}
}

+INTERNAL[Mobile_Processing_Lab_Int]:FOR[FreeIva]:NEEDS[StationScience]
{
	@name = FreeIva_StnSciLab_Int

	!PROP[FreeIva_Hatch_Square],1 {}

	@PROP[FreeIva_Hatch_Round_Size0],1
	{
		MODULE
		{
			name = HatchConfig
			attachNodeId = top4294829798
		}
	}

	@PROP[FreeIva_Hatch_Round_Size0],0
	{
		MODULE
		{
			name = HatchConfig
			attachNodeId = bottom4294829694
		}
	}
}
